:root {
    --primary-color: #A36B67; /* Gold/Copper tone */
    --secondary-color: #F8F4E3; /* Light Cream/Ivory */
    --accent-color: #4a4a4a; /* Dark Grey for text */
    --light-text-color: #777;
    --dark-bg: #222;
    --white: #fff;
    --shadow-light: 0 4px 15px rgba(0, 0, 0, 0.08);
    --shadow-medium: 0 8px 25px rgba(0, 0, 0, 0.15);
    --transition-duration: 0.3s;
    --header-height: 80px;
}
<div id="checkout-modal" class="modal-overlay hidden" onclick="closeCheckoutModalOutside(event)">
    <div class="modal-content">
        <button class="close-btn" onclick="closeCheckoutModal()">&times;</button>
        
        <h2>Thanh To√°n ƒê∆°n H√†ng</h2>
        
        <div class="checkout-container">
            <div class="shipping-info">
                <h3>Th√¥ng Tin Giao H√†ng</h3>
                <form id="checkout-form">
                    <input type="text" id="checkout-name" placeholder="H·ªç t√™n *" required>
                    <input type="tel" id="checkout-phone" placeholder="S·ªë ƒëi·ªán tho·∫°i *" required>
                    <input type="text" id="checkout-address" placeholder="ƒê·ªãa ch·ªâ giao h√†ng *" required>
                    
                    <h3>Ph∆∞∆°ng Th·ª©c Thanh To√°n</h3>
                    <div class="payment-options">
                        <label><input type="radio" name="payment" value="cod" checked> Thanh to√°n khi nh·∫≠n h√†ng (COD)</label>
                        <label><input type="radio" name="payment" value="bank"> Chuy·ªÉn kho·∫£n ng√¢n h√†ng</label>
                    </div>
                    
                    <button type="submit" class="place-order-btn">HO√ÄN T·∫§T ƒê·∫∂T H√ÄNG</button>
                </form>
            </div>
            
            <div class="order-summary">
                <h3>T√≥m T·∫Øt ƒê∆°n H√†ng</h3>
                <div id="checkout-summary-list" class="summary-items-list">
                    </div>
                <div class="summary-totals">
                    <p>T·∫°m t√≠nh: <span id="summary-subtotal">0 VNƒê</span></p>
                    <p class="shipping">Ph√≠ v·∫≠n chuy·ªÉn: <span>Mi·ªÖn ph√≠</span></p>
                    <hr>
                    <p class="total">T·ªïng c·ªông: <span id="summary-total">0 VNƒê</span></p>
                </div>
            </div>
        </div>
    </div>
</div>




 <!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DALAD Jewelry - Trang S·ª©c B·∫°c Cao C·∫•p</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>

    <header class="main-header">
        <div class="header-content">
            <a href="#home" class="logo">DALAD </a>
            
            <nav class="main-nav">
                <ul>
                    <li><a href="#home" class="active">Trang Ch·ªß</a></li>
                    
                    <li class="nav-dropdown-item">
                        <a href="#products">
                            C·ª≠a H√†ng 
                            <i class="fa-solid fa-chevron-down dropdown-arrow"></i>
                        </a>
                        <div class="dropdown-menu dropdown-mega">
                            <div class="dropdown-column category-column">
                                <ul class="category-list">
                                    <li class="dropdown-title">Danh M·ª•c S·∫£n Ph·∫©m</li>
                                    <li><a href="#products" onclick="navFilter('nhan', event)">Nh·∫´n</a></li>
                                    <li><a href="#products" onclick="navFilter('daychuyen', event)">D√¢y Chuy·ªÅn</a></li>
                                    <li><a href="#products" onclick="navFilter('vong', event)">V√≤ng Tay</a></li>
                                    <li><a href="#products" onclick="navFilter('khuyen', event)">Khuy√™n Tai</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li><a href="#collections">B·ªô S∆∞u T·∫≠p</a></li>
                    <li><a href="#about">V·ªÅ Ch√∫ng T√¥i</a></li>
                </ul>
            </nav>

            <div class="header-icons">
                <i class="fas fa-search" id="search-toggle"></i>
                <a href="#account" class="icon-link"><i class="fas fa-user"></i></a>
                <div class="cart-icon-container" id="cart-icon-container">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="cart-count">0</span>
                </div>
            </div>
        </div>

        <div class="search-bar" id="search-bar">
            <input type="text" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m...">
            <button><i class="fas fa-search"></i></button>
        </div>
    </header>

    <div class="cart-popup" id="cart-popup">
        <div class="cart-header">
            <h3>Gi·ªè H√†ng C·ªßa B·∫°n</h3>
            <span class="close-cart-btn">&times;</span>
        </div>
        <div class="cart-items-list" id="cart-items-list">
            </div>
        <div class="cart-footer">
            <div class="cart-total-line">
                <span>T·ªïng c·ªông:</span>
                <span class="cart-total" id="cart-total">0 VNƒê</span>
            </div>
            <button class="checkout-btn">Ti·∫øn H√†nh Thanh To√°n</button>
            <button class="continue-shopping-btn">Ti·∫øp T·ª•c Mua S·∫Øm</button>
        </div>
    </div>

    <div id="checkout-modal" class="modal-backdrop">
        <div class="modal-content checkout-content">
            <div class="checkout-header">
                <h2>Thanh To√°n ƒê∆°n H√†ng</h2>
                <span class="close-btn" onclick="closeCheckoutModal()">&times;</span>
            </div>
            
            <form id="checkout-form" class="checkout-form">
                <div class="form-section customer-info">
                    <h3>Th√¥ng Tin Kh√°ch H√†ng</h3>
                    <div class="form-group">
                        <label for="checkout-name">H·ªç T√™n *</label>
                        <input type="text" id="checkout-name" required>
                    </div>
                    <div class="form-group">
                        <label for="checkout-phone">S·ªë ƒêi·ªán Tho·∫°i *</label>
                        <input type="tel" id="checkout-phone" required pattern="[0-9]{10,11}">
                    </div>
                    <div class="form-group">
                        <label for="checkout-address">ƒê·ªãa Ch·ªâ Giao H√†ng *</label>
                        <input type="text" id="checkout-address" required>
                    </div>
                    <div class="form-group">
                        <label for="checkout-note">Ghi Ch√∫ ƒê∆°n H√†ng (T√πy ch·ªçn)</label>
                        <textarea id="checkout-note" rows="3"></textarea>
                    </div>
                </div>

                <div class="form-section order-summary">
                    <h3>T√≥m T·∫Øt ƒê∆°n H√†ng</h3>
                    <div class="summary-items-list" id="summary-items-list">
                        </div>

                    <div class="summary-totals">
                        <div class="summary-line">
                            <span>T·∫°m t√≠nh:</span>
                            <span id="summary-subtotal">0 VNƒê</span>
                        </div>
                        <div class="summary-line">
                            <span>Ph√≠ v·∫≠n chuy·ªÉn:</span>
                            <span class="shipping">Mi·ªÖn Ph√≠</span>
                        </div>
                        <hr>
                        <div class="total-line">
                            <span>T·ªïng thanh to√°n:</span>
                            <span id="summary-total-amount">0 VNƒê</span>
                        </div>
                    </div>

                    <h3>Ph∆∞∆°ng Th·ª©c Thanh To√°n</h3>
                    <div class="payment-options">
                        <label class="payment-option">
                            <input type="radio" name="payment" value="cod" checked>
                            Thanh to√°n khi nh·∫≠n h√†ng (COD)
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="payment" value="bank">
                            Chuy·ªÉn kho·∫£n Ng√¢n h√†ng
                        </label>
                    </div>
                    
                    <button type="submit" class="place-order-btn">HO√ÄN T·∫§T ƒê∆†N H√ÄNG</button>
                </div>
            </form>
        </div>
    </div>

    <div id="toast-container"></div>
    
    <main>
        <section id="home" class="hero-section">
            <h1>S·∫Øc ƒê·∫πp Vƒ©nh C·ª≠u</h1>
            <p>Trang s·ª©c b·∫°c cao c·∫•p, thi·∫øt k·∫ø tinh x·∫£o d√†nh cho b·∫°n.</p>
            <a href="#products" class="cta-button">Kh√°m Ph√° Ngay</a>
        </section>

        <section id="products" class="products-section">
            <h2>S·∫£n Ph·∫©m N·ªïi B·∫≠t</h2>
            <div class="product-tabs" id="product-tabs">
                </div>
            <div class="product-list" id="product-list">
                </div>
        </section>
        
        <section id="collections" class="collections-section">
            <h2>B·ªô S∆∞u T·∫≠p M·ªõi</h2>
            <div class="collection-grid">
                <div class="collection-item">
                    <img src="vong4.jpg" alt="B·ªô s∆∞u t·∫≠p S·∫Øc M√†u Bi·ªÉn C·∫£">
                    <h4>S·∫Øc M√†u Bi·ªÉn C·∫£</h4>
                    <p>M√†u xanh t∆∞∆°i m√°t, thi·∫øt k·∫ø l·∫•y c·∫£m h·ª©ng t·ª´ ƒë·∫°i d∆∞∆°ng.</p>
                </div>
                <div class="collection-item">
                    <img src="vong5.jpg" alt="B·ªô s∆∞u t·∫≠p Kim C∆∞∆°ng Nh√¢n T·∫°o">
                    <h4>Kim C∆∞∆°ng Nh√¢n T·∫°o</h4>
                    <p>Thi·∫øt k·∫ø l·∫•p l√°nh, sang tr·ªçng v·ªõi ƒë√° CZ cao c·∫•p.</p>
                </div>
            </div>
        </section>

        <section id="about" class="about-section">
            <h2>V·ªÅ DALAD Jewelry</h2>
            <p>DALAD cam k·∫øt mang ƒë·∫øn nh·ªØng s·∫£n ph·∫©m b·∫°c 925 cao c·∫•p, thi·∫øt k·∫ø tinh t·∫ø v√† ch·∫•t l∆∞·ª£ng v∆∞·ª£t tr·ªôi. M·ªói m√≥n trang s·ª©c l√† m·ªôt c√¢u chuy·ªán v·ªÅ v·∫ª ƒë·∫πp v√† phong c√°ch c√° nh√¢n.</p>
        </section>
    </main>

    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-column">
                <h4>DALAD</h4>
                <p>Trang s·ª©c b·∫°c tinh t·∫ø, n√¢ng t·∫ßm phong c√°ch.</p>
            </div>
            <div class="footer-column">
                <h4>Li√™n h·ªá</h4>
                <p>Email: support@dalad.vn</p>
                <p>Hotline: 1900 6868</p>
            </div>
            <div class="footer-column">
                <h4>Ch√≠nh s√°ch</h4>
                <ul>
                    <li><a href="#">B·∫£o m·∫≠t th√¥ng tin</a></li>
                    <li><a href="#">Ch√≠nh s√°ch ƒë·ªïi tr·∫£</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Theo d√µi ch√∫ng t√¥i</h4>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 DALAD Jewelry. All rights reserved.</p>
        </div>
    </footer>


<script>
    // ƒê·ªãnh nghƒ©a c√°c bi·∫øn v√† d·ªØ li·ªáu gi·∫£ ƒë·ªãnh
    const products = [
        { id: 'p1', name: 'Nh·∫´n La M√£ Kh·∫Øc R·ªóng', category: 'nhan', price: 12500000, stock: 25, images: ['1.jpg'], desc: 'C√° t√≠nh, kh·∫Øc r·ªóng s·ªë La M√£, √Ω nghƒ©a th·ªùi gian.', tag: 'Hot', sizes: ['S6', 'S7', 'S8', 'S9'] },
        { id: 'p5', name: 'Nh·∫´n Eternity ƒê√≠nh ƒê√° CZ', category: 'nhan', price: 4500000, stock: 40, images: ['2.jpg'], desc: 'Thanh m·∫£nh, vƒ©nh c·ª≠u, ƒëeo x·∫øp l·ªõp.', tag: '', sizes: ['S6', 'S7', 'S8', 'S9'] },
        { id: 'p8', name: 'Nh·∫´n N∆° Xinh ƒê√° R∆°i', category: 'nhan', price: 25000000, stock: 10, images: ['3.jpg'], desc: 'N∆° ƒë·ªôc ƒë√°o, chuy·ªÉn ƒë·ªông, r·∫•t n·ªØ t√≠nh.', tag: 'VIP', sizes: ['S6', 'S7', 'S8', 'S9'] },
        { id: 'p11', name: 'Nh·∫´n N∆° ƒê√° Mini D·ªãu D√†ng', category: 'nhan', price: 9900000, stock: 30, images: ['4.jpg'], desc: 'Nh·ªè g·ªçn, duy√™n d√°ng, phong c√°ch tr·∫ª trung.', tag: 'Sale', sizes: ['S6', 'S7', 'S8', 'S9'] },
        
        { id: 'p12', name: 'D√¢y Chuy·ªÅn Tr√°i Tim ƒê√°', category: 'daychuyen', price: 7500000, stock: 50, images: ['5.jpg'], desc: 'M·∫∑t tr√°i tim l·ªõn ƒë√≠nh ƒë√°, sang tr·ªçng v√† thu h√∫t.', tag: 'Hot', sizes: ['40cm', '45cm'] },
        { id: 'p13', name: 'D√¢y Chuy·ªÅn Ch·ªØ Y Minimal', category: 'daychuyen', price: 3200000, stock: 80, images: ['6.jpg'], desc: 'Thi·∫øt k·∫ø ch·ªØ Y t·ªëi gi·∫£n, hi·ªán ƒë·∫°i.', tag: '', sizes: ['40cm', '45cm'] },
        
        { id: 'p14', name: 'V√≤ng Tay X√≠ch L·ªõn ƒê√° Kh√≥a', category: 'vong', price: 15000000, stock: 15, images: ['7.jpg'], desc: 'V√≤ng tay x√≠ch l·ªõn b·∫£n to, kh√≥a g√†i ƒë√≠nh ƒë√°.', tag: 'VIP', sizes: ['S', 'M', 'L'] },
        { id: 'p15', name: 'V√≤ng Tay ƒê∆°n Gi·∫£n Charm', category: 'vong', price: 4900000, stock: 60, images: ['8.jpg'], desc: 'V√≤ng tay m·∫£nh c√≥ charm nh·ªè, d·ªÖ ƒëeo h·∫±ng ng√†y.', tag: 'Sale', sizes: ['Free Size'] },
        
        { id: 'p16', name: 'Khuy√™n Tai Tr√≤n ƒê√≠nh ƒê√°', category: 'khuyen', price: 5500000, stock: 90, images: ['9.jpg'], desc: 'Khuy√™n tai tr√≤n nh·ªè ƒë√≠nh ƒë√°, l·∫•p l√°nh.', tag: 'Hot', sizes: ['N/A'] },
        { id: 'p17', name: 'Khuy√™n Tai D√†i Ng·ªçc Trai', category: 'khuyen', price: 18000000, stock: 5, images: ['10.jpg'], desc: 'Thi·∫øt k·∫ø d√†i, qu√Ω ph√°i v·ªõi ng·ªçc trai n∆∞·ªõc ng·ªçt.', tag: 'VIP', sizes: ['N/A'] }
    ];
    
    const categories = {
        'all': 'T·∫•t C·∫£',
        'nhan': 'Nh·∫´n',
        'daychuyen': 'D√¢y Chuy·ªÅn',
        'vong': 'V√≤ng Tay',
        'khuyen': 'Khuy√™n Tai'
    };

    let cart = JSON.parse(localStorage.getItem('daladCart')) || []; // D·ªØ li·ªáu gi·ªè h√†ng
    const cartPopup = document.getElementById('cart-popup');
    const checkoutModal = document.getElementById('checkout-modal');

    // 1. C√ÅC H√ÄM TI·ªÜN √çCH

    const formatCurrency = (amount) => {
        return amount.toLocaleString('vi-VN') + ' VNƒê';
    };

    const saveCart = () => {
        localStorage.setItem('daladCart', JSON.stringify(cart));
    };

    const calculateTotal = () => {
        return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
    };

    const showToast = (message, type = 'toast-info') => {
        const container = document.getElementById('toast-container');
        if (!container) return;

        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        toast.textContent = message;
        
        container.appendChild(toast);

        // T·ª± ƒë·ªông x√≥a sau 3 gi√¢y
        setTimeout(() => {
            toast.classList.add('hide');
            toast.addEventListener('transitionend', () => {
                toast.remove();
            });
        }, 3000);
    };

    // 2. CH·ª®C NƒÇNG GI·ªé H√ÄNG (CART)

    const updateCartDisplay = () => {
        const cartCount = document.getElementById('cart-count');
        const cartTotal = document.getElementById('cart-total');
        const cartItemsList = document.getElementById('cart-items-list');

        const totalItems = cart.reduce((count, item) => count + item.quantity, 0);
        const totalPrice = calculateTotal();

        if (cartCount) cartCount.textContent = totalItems;
        if (cartTotal) cartTotal.textContent = formatCurrency(totalPrice);

        if (cartItemsList) {
            cartItemsList.innerHTML = '';
            if (cart.length === 0) {
                cartItemsList.innerHTML = '<p class="empty-cart-message">Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng.</p>';
            } else {
                cart.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'cart-item';
                    div.innerHTML = `
                        <img src="images/${item.images[0]}" alt="${item.name}">
                        <div class="item-details">
                            <p class="item-name">${item.name}</p>
                            <p class="item-size">Size: ${item.size}</p>
                            <div class="quantity-control">
                                <button onclick="changeQuantity('${item.id}', '${item.size}', -1)">-</button>
                                <span>${item.quantity}</span>
                                <button onclick="changeQuantity('${item.id}', '${item.size}', 1)">+</button>
                            </div>
                        </div>
                        <div class="item-price">
                            ${formatCurrency(item.price * item.quantity)}
                            <button class="remove-item-btn" onclick="removeFromCart('${item.id}', '${item.size}')">&times;</button>
                        </div>
                    `;
                    cartItemsList.appendChild(div);
                });
            }
        }
        saveCart();
    };

    const addToCart = (productId, selectedSize) => {
        const product = products.find(p => p.id === productId);
        if (!product) return;

        const existingItem = cart.find(item => item.id === productId && item.size === selectedSize);

        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            cart.push({
                id: product.id,
                name: product.name,
                price: product.price,
                images: product.images,
                size: selectedSize,
                quantity: 1
            });
        }
        showToast(`${product.name} (Size ${selectedSize}) ƒë√£ th√™m v√†o gi·ªè h√†ng.`, 'toast-success');
        updateCartDisplay();
    };

    const changeQuantity = (productId, size, delta) => {
        const index = cart.findIndex(item => item.id === productId && item.size === size);
        if (index !== -1) {
            cart[index].quantity += delta;
            if (cart[index].quantity <= 0) {
                cart.splice(index, 1);
            }
            updateCartDisplay();
        }
    };

    const removeFromCart = (productId, size) => {
        const initialLength = cart.length;
        cart = cart.filter(item => !(item.id === productId && item.size === size));
        if (cart.length < initialLength) {
            showToast('ƒê√£ x√≥a s·∫£n ph·∫©m kh·ªèi gi·ªè h√†ng.', 'toast-info');
        }
        updateCartDisplay();
    };


    // 3. CH·ª®C NƒÇNG HI·ªÇN TH·ªä S·∫¢N PH·∫®M & TABS

    const renderProducts = (productList) => {
        const productListElement = document.getElementById('product-list');
        if (!productListElement) return;

        productListElement.innerHTML = ''; // X√≥a s·∫£n ph·∫©m c≈©

        productList.forEach(product => {
            const productCard = document.createElement('div');
            productCard.className = 'product-card';
            
            // L·∫•y size ƒë·∫ßu ti√™n l√†m m·∫∑c ƒë·ªãnh
            const defaultSize = product.sizes && product.sizes.length > 0 ? product.sizes[0] : 'N/A';

            productCard.innerHTML = `
                <div class="product-image">
                    <img src="images/${product.images[0]}" alt="${product.name}">
                    ${product.tag ? `<span class="product-tag">${product.tag}</span>` : ''}
                </div>
                <div class="product-info">
                    <h4 class="product-name">${product.name}</h4>
                    <p class="product-price">${formatCurrency(product.price)}</p>
                    <div class="product-action">
                        <select class="product-size-select" id="size-${product.id}">
                            ${product.sizes.map(size => `<option value="${size}">${size}</option>`).join('')}
                        </select>
                        <button class="add-to-cart-btn" onclick="handleAddToCartClick('${product.id}')">
                            <i class="fas fa-shopping-cart"></i> Th√™m
                        </button>
                    </div>
                </div>
            `;
            productListElement.appendChild(productCard);
        });
    };
    
    // X·ª≠ l√Ω click Th√™m v√†o gi·ªè h√†ng
    const handleAddToCartClick = (productId) => {
        const sizeSelect = document.getElementById(`size-${productId}`);
        const selectedSize = sizeSelect ? sizeSelect.value : 'N/A';
        addToCart(productId, selectedSize);
    };


    const renderTabs = () => {
        const tabsContainer = document.getElementById('product-tabs');
        if (!tabsContainer) return;

        tabsContainer.innerHTML = '';

        Object.entries(categories).forEach(([key, name]) => {
            const button = document.createElement('button');
            button.className = `tab-button ${key === 'all' ? 'active' : ''}`;
            button.textContent = name;
            button.onclick = () => filterProducts(key, button);
            tabsContainer.appendChild(button);
        });
    };

    const filterProducts = (categoryKey, button) => {
        // X√≥a active class kh·ªèi t·∫•t c·∫£ c√°c n√∫t
        document.querySelectorAll('.product-tabs .tab-button').forEach(btn => btn.classList.remove('active'));
        
        // Th√™m active class v√†o n√∫t ƒë∆∞·ª£c click
        if (button) button.classList.add('active');

        let filtered = products;
        if (categoryKey !== 'all') {
            filtered = products.filter(p => p.category === categoryKey);
        }
        renderProducts(filtered);
    };
    
    const navFilter = (categoryKey, event) => {
        event.preventDefault();
        // Cu·ªôn t·ªõi ph·∫ßn s·∫£n ph·∫©m
        document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
        
        // L·∫•y n√∫t tab t∆∞∆°ng ·ª©ng v√† k√≠ch ho·∫°t filter
        const tabsContainer = document.getElementById('product-tabs');
        if (tabsContainer) {
            const button = tabsContainer.querySelector(`.tab-button[onclick*="'${categoryKey}'"]`);
            filterProducts(categoryKey, button);
        }
    }


    // 4. CH·ª®C NƒÇNG MODAL THANH TO√ÅN (CHECKOUT)

    const openCheckoutModal = () => {
        if (cart.length === 0) {
            showToast('Gi·ªè h√†ng tr·ªëng! Vui l√≤ng th√™m s·∫£n ph·∫©m.', 'toast-warning');
            return;
        }

        const summaryList = document.getElementById('summary-items-list');
        const summarySubtotal = document.getElementById('summary-subtotal');
        const summaryTotalAmount = document.getElementById('summary-total-amount');

        // C·∫≠p nh·∫≠t t√≥m t·∫Øt ƒë∆°n h√†ng
        summaryList.innerHTML = '';
        cart.forEach(item => {
            const div = document.createElement('div');
            div.className = 'summary-item';
            div.innerHTML = `
                <span class="summary-item-name">${item.name} (x${item.quantity}, Size ${item.size})</span>
                <span class="summary-item-price">${formatCurrency(item.price * item.quantity)}</span>
            `;
            summaryList.appendChild(div);
        });

        const total = calculateTotal();
        const subtotal = total; // Gi·∫£ ƒë·ªãnh subtotal b·∫±ng total n·∫øu kh√¥ng c√≥ thu·∫ø/chi·∫øt kh·∫•u

        summarySubtotal.textContent = formatCurrency(subtotal);
        summaryTotalAmount.textContent = formatCurrency(total);
        
        if (checkoutModal) checkoutModal.style.display = 'flex';
        if (cartPopup) cartPopup.classList.remove('visible'); // ƒê√≥ng gi·ªè h√†ng popup
    };

    const closeCheckoutModal = () => {
        if (checkoutModal) checkoutModal.style.display = 'none';
    };

    const closeCheckoutModalOutside = (event) => {
        if (event.target === checkoutModal) {
            closeCheckoutModal();
        }
    };

    // 5. CH·ª®C NƒÇNG ADMIN API (M·ªöI)

    const ADMIN_API_ENDPOINT = './api_admin.php'; // **ƒê∆Ø·ªúNG D·∫™N ƒê·∫æN API BACKEND**

    const submitOrder = async (event) => {
        event.preventDefault(); 
        
        // --- 1. Thu th·∫≠p d·ªØ li·ªáu kh√°ch h√†ng ---
        const form = event.target;
        if (!form.checkValidity()) {
            form.reportValidity();
            window.showToast('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin b·∫Øt bu·ªôc.', 'toast-warning');
            return;
        }
        
        if (!window.cart || window.cart.length === 0) {
            window.showToast('Gi·ªè h√†ng tr·ªëng! Kh√¥ng th·ªÉ ƒë·∫∑t h√†ng.', 'toast-warning');
            return;
        }
        
        // L·∫•y d·ªØ li·ªáu t·ª´ form Checkout (ƒê√£ c·∫≠p nh·∫≠t ID ƒë√∫ng theo HTML)
        const customerName = document.getElementById('checkout-name').value;
        const phone = document.getElementById('checkout-phone').value;
        const address = document.getElementById('checkout-address').value;
        const notes = document.getElementById('checkout-note').value;
        const paymentMethod = document.querySelector('input[name="payment"]:checked')?.value || 'cod'; 

        const totalAmount = window.calculateTotal ? window.calculateTotal() : 0;
        
        const cartItemsData = window.cart.map(item => ({
            id: item.id,
            name: item.name,
            size: item.size || 'N/A', 
            quantity: item.quantity,
            price: item.price,
        }));
        
        const orderData = {
            customer: {
                name: customerName,
                phone: phone,
                address: address,
            },
            items: cartItemsData,
            notes: notes,
            payment: {
                method: paymentMethod,
            },
            total: totalAmount,
            status_client: 'ƒê√£ ƒë·∫∑t h√†ng', 
            timestamp: new Date().toISOString()
        };

        // --- 2. G·ª¨I ƒê∆†N H√ÄNG ƒê·∫æN API ADMIN ---
        try {
            console.log('ƒêang g·ª≠i ƒë∆°n h√†ng t·ªõi API:', ADMIN_API_ENDPOINT, orderData);
            
            const response = await fetch(ADMIN_API_ENDPOINT, { 
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(orderData)
            });

            if (response.ok) {
                const result = await response.json();
                
                // X·ª≠ l√Ω th√†nh c√¥ng: X√≥a gi·ªè h√†ng v√† th√¥ng b√°o
                window.cart.length = 0; 
                window.updateCartDisplay(); 
                window.closeCheckoutModal();
                window.showToast(`ƒê·∫∑t h√†ng th√†nh c√¥ng! ƒêH: ${result.order_id}`, 'toast-success');
                
            } else {
                // L·ªói t·ª´ ph√≠a Server (v√≠ d·ª•: l·ªói ghi file 500)
                const errorBody = await response.text();
                console.error('L·ªñI SERVER (API ADMIN):', response.status, errorBody);
                window.showToast(`L·ªói ƒë·∫∑t h√†ng (HTTP ${response.status}). Vui l√≤ng ki·ªÉm tra Console v√† File Permissions.`, 'toast-error');
            }

        } catch (error) {
            // L·ªói k·∫øt n·ªëi (Server PHP ch∆∞a ch·∫°y, l·ªói CORS,...)
            console.error('L·ªñI K·∫æT N·ªêI M·∫†NG HO·∫∂C SERVER:', error);
            window.showToast('Kh√¥ng th·ªÉ k·∫øt n·ªëi v·ªõi m√°y ch·ªß. Vui l√≤ng ki·ªÉm tra Server PHP v√† ƒë∆∞·ªùng d·∫´n API.', 'toast-error');
        }
    };


    // 6. C√ÅC H√ÄM PH·ª§ TR·ª¢ KH√ÅC (T·ª™ CODE G·ªêC)
    
    // Toggle Password Visibility Logic
    const togglePasswordVisibility = (inputId, iconId) => {
        const input = document.getElementById(inputId);
        const icon = document.getElementById(iconId);
        if (!input || !icon) return;

        if (input.type === 'password') {
            input.type = 'text';
            icon.classList.remove('fa-eye-slash');
            icon.classList.add('fa-eye');
        } else {
            input.type = 'password';
            icon.classList.remove('fa-eye');
            icon.classList.add('fa-eye-slash');
        }
    };

    // Search Bar Logic
    const searchBar = document.getElementById('search-bar');
    const toggleSearchBar = () => {
        if (!searchBar) return;
        searchBar.classList.toggle('search-bar-visible');
        if (searchBar.classList.contains('search-bar-visible')) {
            searchBar.querySelector('input')?.focus();
        }
    };

    // G√°n s·ª± ki·ªán cho n√∫t t√¨m ki·∫øm
    const searchToggle = document.getElementById('search-toggle');
    if (searchToggle) {
        searchToggle.onclick = toggleSearchBar;
    }

    // G√°n s·ª± ki·ªán cho gi·ªè h√†ng
    const cartIconContainer = document.getElementById('cart-icon-container');
    if (cartIconContainer) {
        cartIconContainer.onclick = () => cartPopup.classList.toggle('visible');
    }

    const closeCartBtn = document.querySelector('#cart-popup .close-cart-btn');
    if (closeCartBtn) {
        closeCartBtn.onclick = () => cartPopup.classList.remove('visible');
    }
    const continueShoppingBtn = document.querySelector('#cart-popup .continue-shopping-btn');
    if (continueShoppingBtn) {
        continueShoppingBtn.onclick = () => cartPopup.classList.remove('visible');
    }

    // 7. KH·ªûI CH·∫†Y (INITIALIZATION)
    document.addEventListener('DOMContentLoaded', () => {
        if (products.length > 0) {
            renderProducts(products.filter(p => p.category === 'nhan')); // M·∫∑c ƒë·ªãnh hi·ªÉn th·ªã Nh·∫´n
            renderTabs();
        }
        updateCartDisplay();
        
        // G√°n s·ª± ki·ªán cho n√∫t "Ti·∫øn H√†nh Thanh To√°n" trong Cart Popup
        const checkoutBtn = document.querySelector('#cart-popup .checkout-btn');
        if (checkoutBtn) {
            checkoutBtn.onclick = openCheckoutModal; 
        }
        
        // G√°n s·ª± ki·ªán cho form thanh to√°n
        const checkoutForm = document.getElementById('checkout-form');
        if (checkoutForm) {
            checkoutForm.addEventListener('submit', submitOrder); // D√πng submitOrder ƒë√£ s·ª≠a
        }
    });
    
    // G√°n s·ª± ki·ªán ƒë√≥ng modal thanh to√°n khi click ra ngo√†i
    window.addEventListener('click', closeCheckoutModalOutside);

</script>
    
</body>
</html>






// Bi·∫øn l∆∞u tr·ªØ ƒë∆°n h√†ng gi·∫£ l·∫≠p (ƒê·∫∑t ·ªü ƒë·∫ßu kh·ªëi script)
let placedOrders = [];

// H√ÄM H·ªñ TR·ª¢: T√çNH T·ªîNG TI·ªÄN GI·ªé H√ÄNG (C·∫ßn thi·∫øt cho submitOrder)
const calculateCartTotal = () => {
    let subTotal = 0;
    cart.forEach(item => {
        subTotal += item.price * item.quantity;
    });
    // Gi·∫£ s·ª≠ ph√≠ v·∫≠n chuy·ªÉn l√† 0
    const shippingFee = 0; 
    const finalTotal = subTotal + shippingFee;
    return { subTotal, shippingFee, finalTotal };
};

// =================================================================
// 4. LOGIC THANH TO√ÅN (ƒê√É S·ª¨A ƒê·ªîI)
// =================================================================

const renderCheckoutSummary = () => {
    const checkoutSummaryList = document.getElementById('checkout-summary-list');
    const summarySubtotal = document.getElementById('summary-subtotal');
    const summaryTotal = document.getElementById('summary-total');

    if (!checkoutSummaryList || !summarySubtotal || !summaryTotal) return;
    checkoutSummaryList.innerHTML = '';
    
    const totals = calculateCartTotal(); // L·∫•y t·ªïng ti·ªÅn b·∫±ng h√†m m·ªõi

    cart.forEach(item => {
        const itemPrice = item.price * item.quantity;
        const sizeInfo = item.size ? `(${item.size})` : '';
        const itemDiv = document.createElement('div');
        itemDiv.className = 'summary-item';
        itemDiv.innerHTML = `
            <span class="summary-item-name">${item.name} ${sizeInfo} x ${item.quantity}</span>
            <span>${formatCurrency(itemPrice)}</span>
        `;
        checkoutSummaryList.appendChild(itemDiv);
    });

    summarySubtotal.textContent = formatCurrency(totals.subTotal);
    summaryTotal.textContent = formatCurrency(totals.finalTotal);
};

// H√†m ƒë√≥ng Modal Thanh to√°n
const closeCheckoutModal = () => { 
    const checkoutModal = document.getElementById('checkout-modal');
    if (checkoutModal) checkoutModal.classList.add('hidden'); 
}; 

/* M·ªü Modal Thanh to√°n */ 
const openCheckoutModal = () => { 
    const checkoutModal = document.getElementById('checkout-modal');
    const cartPopup = document.getElementById('cart-popup');
    const showToast = window.showToast || alert; // D√πng showToast n·∫øu c√≥, n·∫øu kh√¥ng d√πng alert

    if (!checkoutModal) return console.error("L·ªói: Kh√¥ng t√¨m th·∫•y ph·∫ßn t·ª≠ HTML 'checkout-modal'."); 
    if (cart.length === 0) { 
        showToast('Gi·ªè h√†ng tr·ªëng. Vui l√≤ng th√™m s·∫£n ph·∫©m.', 'error'); 
        return; 
    } 
    // 1. ƒê√≥ng gi·ªè h√†ng nh·ªè 
    if(cartPopup) cartPopup.classList.remove('cart-popup-visible');
    // 2. Render t√≥m t·∫Øt ƒë∆°n h√†ng 
    renderCheckoutSummary(); 
    // 3. Hi·ªÉn th·ªã modal 
    checkoutModal.classList.remove('hidden'); 
}; 


// H√ÄM X·ª¨ L√ù VI·ªÜC G·ª¨I FORM THANH TO√ÅN (H√†m M·ªöI thay th·∫ø)
const submitOrder = (event) => {
    event.preventDefault(); // NgƒÉn ch·∫∑n form submit m·∫∑c ƒë·ªãnh
    
    // 1. L·∫•y th√¥ng tin t·ª´ form
    const name = document.getElementById('checkout-name').value.trim();
    const phone = document.getElementById('checkout-phone').value.trim();
    const email = document.getElementById('checkout-email').value.trim();
    const address = document.getElementById('checkout-address').value.trim();
    // L·∫•y radio button v·ªõi name="payment"
    const paymentMethodEl = document.querySelector('input[name="payment"]:checked');
    const paymentMethod = paymentMethodEl ? paymentMethodEl.value : null;
    const note = document.getElementById('checkout-note')?.value.trim() || '';
    
    const showToast = window.showToast || alert; 
    
    // 2. Ki·ªÉm tra t√≠nh h·ª£p l·ªá c∆° b·∫£n
    if (!name || !phone || !email || !address || !paymentMethod) {
        showToast("Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin b·∫Øt bu·ªôc.", 'error'); 
        return;
    }
    
    if (cart.length === 0) {
        showToast("Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng!", 'error');
        return;
    }

    // 3. T·∫°o ƒë·ªëi t∆∞·ª£ng ƒê∆°n h√†ng
    const orderId = 'DH' + Date.now();
    const orderTotal = calculateCartTotal(); // D√πng h√†m m·ªõi
    
    const newOrder = {
        id: orderId,
        customerName: name,
        customerPhone: phone,
        customerEmail: email,
        shippingAddress: address,
        paymentMethod: paymentMethod,
        orderDate: new Date().toLocaleDateString('vi-VN'),
        total: orderTotal.finalTotal,
        items: [...cart], 
        status: 'Ch·ªù duy·ªát',
        note: note
    };
    
    // 4. L∆∞u ƒë∆°n h√†ng gi·∫£ l·∫≠p & X√≥a gi·ªè h√†ng
    placedOrders.push(newOrder); 
    cart = []; 
    localStorage.removeItem('cart'); // X√≥a gi·ªè h√†ng kh·ªèi LocalStorage
    updateCartDisplay(); // C·∫≠p nh·∫≠t l·∫°i giao di·ªán gi·ªè h√†ng

    // 5. HI·ªÇN TH·ªä TH√îNG B√ÅO TH√ÄNH C√îNG (Y√äU C·∫¶U C·ª¶A B·∫†N)
    
    // ƒê√≥ng Modal Thanh to√°n
    document.getElementById('checkout-modal').classList.add('hidden');
    
    // Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng
    alert(
        `üéâ ƒê·∫∑t h√†ng th√†nh c√¥ng! üéâ\n\n` +
        `M√£ ƒë∆°n h√†ng: ${orderId}\n` +
        `T·ªïng ti·ªÅn: ${formatCurrency(orderTotal.finalTotal)}\n` +
        `DALAD s·∫Ω li√™n h·ªá v·ªõi b·∫°n qua SƒêT ${phone} ƒë·ªÉ x√°c nh·∫≠n ƒë∆°n h√†ng s·ªõm nh·∫•t.`
    );
    
    // Reset form
    document.getElementById('checkout-form').reset();
};


const stats = [
        { title: 'T·ªïng Doanh Thu ƒê√£ Giao', value: `${totalRev.toLocaleString('vi-VN')} VNƒê` },
        { title: 'T·ªïng ƒê∆°n H√†ng', value: orders.length },
        { title: 'S·ªë S·∫£n Ph·∫©m', value: products.length },
        { title: 'S·∫£n Ph·∫©m B√°n Ch·∫°y', value: `${bestSeller.name} (${bestSeller.qty} SP)` },
    ];
    



    <div class="hero-left">
                <div class="image-wrapper" style="background-image: url('mau1.png');"></div>
            </div>



             <div class="image-small-wrapper" style="background-image: url('mau3.png');"></div>
            </div>




            .hero-left,
.hero-right {
    display: none !important;
}

/* HERO FULL WIDTH */
.hero-section {
    display: flex;
    justify-content: center;
    width: 100%;
    padding: 0;
    margin: 0;
    height: 600px; /* chi·ªÅu cao banner */
    position: relative;
    overflow: hidden;
}

/* HERO CENTER TH√ÄNH BANNER */
.hero-center {
    position: relative;
    width: 100%;
    max-width: 100%;
    padding-top: 120px;  /* ƒë·∫©y ch·ªØ xu·ªëng cho ƒë·∫πp */
    text-align: center;
    z-index: 5;
}
.hero-center h2,
.hero-center h1 {
    color: rgb(255, 255, 255);
    text-align: center;
    z-index: 5;
}
/* ·∫¢NH N·ªÄN GI√ÅNG SINH FULL 2 B√äN */
.hero-center::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: url("nam.png");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0.70;
    z-index: -1;
}

/* ·∫¢NH M·∫™U 3 TO NH∆Ø PHI√äN B·∫¢N ƒê·∫¶U */
.image-small-wrapper {
    width: 380px;       /* to h∆°n ‚Äì gi·ªëng b·∫£n ƒë·∫ßu ti√™n b·∫°n c√≥ */
    height: 240px;
    margin: 40px auto 0 auto;

    background-size: cover;
    background-position: center;

    border: 6px solid white;
    border-radius: 20px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.18);

    position: relative;
    z-index: 10;   /* ƒë·∫£m b·∫£o kh√¥ng b·ªã che */
}
